# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-i18n
pkgver=37.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('2f17b114cd744228082d2987984304bb'
         '3fda64ce0600df490c3ea7205d2f11e8'
         '70e232974f85419228c3457c4e54b49d'
         '562bf4026b1f948a2fa9720974a17f24'
         '5b34c893fd52a2383fd8307bbd6bd5f4'
         'b242a377792cde82af29723770354708'
         '254725b7896ec9ec37d777bc2b4f1bc8'
         '8d39ef3b8ab7773b3342d68abcd67d3f'
         '34fa0f3694fda8b9ea717054bb50d12a'
         'f3e36d9bec097606f903be425621557f'
         'caddf7f97abc80a6afba0f3dc1072ade'
         'f6dc2405d741a11d4ef9f63c57b77d5e'
         '5ba461b5aea4f6bbca98d94d61abab37'
         'f3d331645dbabab09de0073d199bbbe1'
         'f0690a70426dbba5f69cee017dd5acc6'
         '16ebd59e3a58bcf9bcc2c9affe9c0eef'
         'f22a51f4ba65e61531a9bcc84d76ed4b'
         'a0948f3840bbca942b709956d29c310b'
         '4daf1b1c0d9da5ac9573cc5c957c9038'
         '572f03bcd0abe61c509155e93dd01cd0'
         'c7b3a707cdea2207e4e02b5098c04026'
         '434daba1292e0331c83da1b387c7097b'
         '971d924d7ddd8edaab7f7903ecb5bde8'
         '1cc397390599e8b0f7f5d375e164d22c'
         '67cdda0147ecf5f9add43a03e2066c9d'
         '82557097808020b98d7983f3bba5b4a2'
         'fb2b19ccf26795e3bcab81e2e6326b3c'
         '97907f1532f7907b995517f015286e87'
         '602db0e4234256f65f91d68bf402e24c'
         '7b70dfdf766b67745a146d739c097116'
         '43d82d4a30b26f8b96a44aabac5dd218'
         'b60c34c5da73ac22fc3d8812b868cbe3'
         '8be238fd7e09582ca8e45bfaa218bdfd'
         'a5d01db26e869093471119f523a0a54f'
         '3259d01bcea18117eaa4702d630643aa'
         '3259c262c9f15dbc300c1b889d084350'
         'b509a6f16d33606e8c000e072261e43d'
         '948eb15f73e77a105935449914ab43f3'
         'a510481de4ccda1005ee553785e6d77c'
         '3e9d3a639df2223095fec3b2f992f779'
         '3b2dbd0b54acbc462d10d0225544f00f'
         '6c888b72d2f0282c17f472ad4c33a486'
         '7057e9067228ba58f3a0b4d90bd53eb5'
         'a834825853f1557816ac7648d10fc452'
         '56a938a9f834f32641591e96b5c35186'
         '0ca458c0f2ff6027daa2610abd0922e2'
         'd47481f78a6eaef7c902e5b5a0a9f01f'
         'ebfe9cbc5c0e835d16cdabbc5025e13f'
         'f76b863a6c95b23cb0d0ad3e163ac008'
         '18195f07ddd0bcc8c76f26376c854f4f'
         '95657fb00a5481cc474a5f6bd1add23d'
         'a2b67301b18a94e9cba128e6890d1772'
         '046d56ad919b5176c917c8819f210491'
         'fb5aaae91f90481f2eb3a6128e1d04aa'
         '43836b88e4e9c46ffdd62ca4a567f124'
         '1c3730c2d4f22a0c8ef83dbbabb15c00'
         'a124f4f3f6652027423c7a8c67c8f30a'
         '2ccbedb46e0dc89f10d97f4a3f190576'
         'c6203290794fa1a7e5bdd671f6b5c2a3'
         'b070ed0d073ed74a5cc89a088ff5e135'
         'c2d6e0bd8a15abedfeba6a9801299a91'
         '462e709a3e179cf78036c3c1af01bd0c'
         'f727df0f03c9e8956ed4888c425fd439'
         '3002e238e41a87031110f49995e5c1a6'
         '8dac476071f4fdc4f6984602ec5ea731'
         'a68b28c4464b10a285d7982d5c1c8396'
         'c3f37bc20f9aabf97c94efa3884063f3'
         '7c3fef206ffaaafcb3aa98641154820a'
         'de049ac637278593df27f6bb83b78572'
         '75471682107a579d0afda6387198c89b'
         '6318b67be73aff63169db7a8969200c6'
         '92ec83dd14006ebf480fde1a93426312'
         '0c8e7d881eea9438d1bd33c83bb74e68'
         '6672831da5c8d88302a123b61149afa4'
         '0510e7d154d894e8389f5700c5933961'
         'aab674485ec1b220a278ab501efe7b84'
         '1565fe6c170733816e1c9f49ca5713af'
         '38ec6819bda8d06d5a746b86f6102511'
         '90f51ba7fd853e814a37abaaba442d86'
         '043bec69299bdea33d8ff9a1cf3bd838'
         '829044f299b57f6e237052ef8a3c5e9b'
         '27e96abafadd13437617d20625f1470d'
         '77865d82d332aace0b21840e2fa8f2cc'
         'd4bcc0e8dabda448a40635fa134427e0'
         '06c41bd595d67c60a1420134432d3f69'
         '784c134f1ebb8e9faddc0b0116725d4c'
         'd6275802acb62078bc2e1fbc80fb1eca'
         '08aa1c73a55fedba1450df86370b4bc6'
         'b83e9208b2062616d892d6a11eca99be')
