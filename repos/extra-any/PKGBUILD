# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>

pkgname=firefox-i18n
pkgver=3.6.3
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('9f1e7a8f015fa9c6673e7a5fd74655f5'
         '5f6e53b5087e24b91d18ba64c4ffe185'
         'dfb526adb3247201856e1cbfc55d55b9'
         '82b3c8566c2266a9f9e41f9bd00a9a9d'
         '5c2e2ecaaedde6aedcd9238d036b5026'
         'd961018ade9bb29edaf6b4d9bf6cc7b6'
         '00646001d91a81888d349d1526e10607'
         '7ff08e6bb1019a758bd0b4be5a83a805'
         'd977d0011392ab0ad1bc89731c5294e8'
         'ed20f0a63e8bb0e4f06efaf3372ef0ac'
         '7a29d0ca6e1b2aafd43dadb0bdebc7fc'
         '37d7c2f80c50f7081ae30655b9af8723'
         '5ae2e84b06c058b1c30742d65ae35cee'
         '76ba151eb259d36ce8fd5c6cc1a23f51'
         'fb8a232ac6334c59b59df247fbacd8dc'
         'c1b577ff734865137e51358388e124a8'
         '542004b1893ee3be31d2aa81eccd1b2d'
         '95a40275aa67f8eea18d6681a163db61'
         '7444e7ada0a3bb07ca9a9b97894c7075'
         '5972b1f8158ba24311042eec32103e98'
         'b3393f5c33af179ca8ad86d98c3c38a9'
         '33ecf5ebaf0959e7bc7ac684c3594298'
         '166d3ebfcac6c4e86f9f18bf4f2652e4'
         '47647b52ed1503d6a29bc2a58f7de996'
         '5fd9beb2b74ea00165cc42aa73f019ac'
         '03cf568156201821e8ca9f77b7fd2166'
         '295b524b77e7faeb768025eca9253989'
         '7aebe5e8b398ab54444e0a8fb915bbea'
         'c21073d11f5abe89fffd98a4f67449ce'
         'c3adf95f031bedbeb1b06a58133b2a1f'
         'b45855fd805a81c8d6fff63b3dbddf2e'
         '20afeceaebcb56cc10089f3054303441'
         '5d9a0e02c7480400e86c90619517a686'
         'd94b56636da5804b4b92103029f7ab6a'
         '55bf6baa6b00e395c9c899f513fa5fde'
         '9d4e0d5e0e8396b1c6c60305d4a57ef8'
         'b56e5d155b16b450801b069134d54171'
         'edf4e7d9f79138c48071c544e367efd7'
         'b64aa0463db089f8755ba9e4e477e9ef'
         '4b623a76f0e2f51884d3a1d4399f0028'
         '2f097580a7f7680933a5b235946e735a'
         'd555eec00dd9c9436974daa2d46cda79'
         'b2754566f884f1d615fe1129524ae1ff'
         '7fe0e89f7e3fb7c75d4ace3ee1f17d79'
         '750703cb440d417c8fdf2cce332df4e9'
         '63458b4fdb0fe795059ed7a1f1d7e7ca'
         'd62276990caf1add8607bf2a13f80425'
         '2e28e9d322306d4cd62ad0d6edde384b'
         '545762e4e6a20cf9137ceffaea2de293'
         'db28c06c28760160fa54f55944bf19c0'
         '86c940e7b554564b559421dd44ee6abd'
         'b1f5a0236e87fc9f245a551e217ad13f'
         '7830e4e59a54dd293cd485cbb5ca034a'
         'c208c9d466dc3329be7f213dca022ad2'
         '6ff5989286f33b06ce689a017d107f41'
         '212f3cbc2b1d3c7c3d5c1919cb7cdea0'
         '24e50bb4c20d40f199363262935f7d03'
         'e85f86833efffa0ebbb67f66c55853a0'
         '00ad3e7ff392995e0e578b7210ed0eac'
         '4a80b1e2c7d0a0c253379d466a5dea32'
         '82708e7ca784e894531a76e4b760cd63'
         '7bad1d0dd6022ddecc0c3a9a7e7065dd'
         '6c53cf2ff925a321b6d6076fe5b40fcf'
         '210407c722919c59747a4c599e27d0cc'
         '7c09b11224ac7fbfbc599e102eb3e444'
         '7f6d205ee070313768588ccb299caff9'
         '5bb3d9c0a70c8fb1791251578e646adb'
         '72ac1e0a9f590febc6486b2e507d0b79'
         'b0cb9dea29cf0198cb768b661e536331'
         '328a06b4ce0ef75d19a382d2f95fefb7'
         'c6e7fd3a4f289269298f1a447d3c6924'
         'e79500e81decbe294de6ad650416e7cd'
         '1836f39bf72e9d10668c2a9e6668bf18')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.6/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.6/chrome/${lang}.manifest" || return 1
  done
}
