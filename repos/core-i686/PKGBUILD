# $Id$
# Maintainer: Andreas Radke <andyrtr@archlinux.org>

pkgname=ed
pkgver=1.1
pkgrel=2
pkgdesc="A POSIX-compliant line editor"
arch=('i686' 'x86_64')
license=('GPL')
url="http://www.gnu.org/software/ed/ed.html"
install=ed.install
groups=('base-devel')
depends=('glibc' 'texinfo')
options=('!emptydirs')
source=(ftp://ftp.gnu.org/gnu/ed/${pkgname}-${pkgver}.tar.bz2)
md5sums=('d190a6e8937f552118e2822085037099')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  ./configure --prefix=/
  make || return 1
# installing executable
  install -D -m755 ed ${pkgdir}/bin/ed
  cd ${pkgdir}/bin
  ln ed red
# installing man page
  cd ${srcdir}/${pkgname}-${pkgver}
  install -D -m644 doc/ed.1 ${pkgdir}/usr/share/man/man1/ed.1
  cd ${pkgdir}/usr/share/man/man1
  ln ed.1 red.1
# installing info files
  cd ${srcdir}/${pkgname}-${pkgver}
  install -D -m644 doc/ed.info ${pkgdir}/usr/share/info/ed.info
  cd ${pkgdir}/usr/share/info
  ln ed.info red.info
}
