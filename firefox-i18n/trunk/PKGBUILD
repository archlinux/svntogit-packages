# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-i18n
pkgver=37.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('c5cae8ab2de01c7516946ba3b8085c08'
         'a00179c02cfa0d3b1fae4b925609c747'
         'b7f65e538f8f49243d8668ebefc6454a'
         '91dd90bf326215b304db60cac54ce8c8'
         '7edc8ad3aea445660a07a6ea3518959d'
         '29baef3584666157051b435dac6b54b4'
         'a6dce288e262518b44cbcf04a50cb37f'
         'a223d2d1938f3252ff5492ff46631fc3'
         'abe1be5efd000351a8bc18752ea4ef44'
         'e6a2b73799f8bf5de8df1afbc3ef3ab3'
         '1f897a59bde22a13d162427e1a32f6a6'
         'ce2483a3d8f5476a65276164c858cb09'
         'ab7eef1388732fe1b77649a15e8ad0e1'
         '393c9e43351a9250c896b8800f14a060'
         '41332baabf91035d884c4f62cc4b18b4'
         '734237e67a28dcfb313f60950a9310fe'
         '9272838d948d98b0210cc7d7a3d6dd61'
         '6e8f53bc476859445fdfcac2b965b93b'
         '2438fff33c25b9797c3a5eeadaf33360'
         'cd2e4f61e4634f6174e86bafce8dfa06'
         '080b6936771dc5b09e31e94db76c611c'
         'ac264d0e376c362b2181f8b98cf12c58'
         'f5b591d6b28083cdedd801676714992c'
         '21d4e4b717490e3b9640ca5e6285bedd'
         '9c6f8724ad0c19aa73e9496de31a55a7'
         'b33abcdb48d5b3e4b6407b1e0cf299a9'
         '43409ac61be72ef1490aaeee7046a533'
         '8c43e23bdc0ecf9f83594b03780a885e'
         '5bc81fedcc619725684cf60351df900d'
         '57beb12646a8932bb896425cc2b70ce0'
         '636e53937b3fa14e351975cf5a4a8f4e'
         'c2baeb72b04827183bc8d3c713e1bc62'
         '586b2cfb963eff50181cedb3b08c849f'
         '87df0cec9f6cdd9200d7d356078f3153'
         'c94b2a597057c48dc18e527f5ca25382'
         '9811aaa6179299a459c8894c6ba620ad'
         'ed964ecdc7c7ba534d3b83456a47cccb'
         '30bc24fe36337c096e61f7cc618be49f'
         '6e6b6c2dc5bc3c98d505a9b658b4d31a'
         '42ef9ff182f2f298dc866462b5c0a08e'
         'e916de25470344ad3f41d00b7641f806'
         '59cfd3e14232c43173d27b114750bbc7'
         '76e890df6d8fe9c93694cf4493bf71d6'
         'f7ed1075623271076f373f30cef23917'
         '5ece6a9cd77ba66afc01583595080200'
         '1956faf38a034f69fdaa611d5ecbde6e'
         '232efb0352dd577f6f8d8243ebd5a914'
         '8520d45833e77eb62c0ba76a6b9f34d2'
         '61c37d2e34fdc5020fb3f6d19151a721'
         '8afd142c6eb2c2ab5a578aad5f94d34b'
         '1fa326c5e6874c84a0e30a3ef30bac2f'
         '25b6083f53360f7a0893b33f2184534f'
         '1c5429a4d54d7928a789090a04c61fe6'
         'cc61d6a7775c988222ad2c4d8781a2f2'
         'b9936716db0c0183c5c077848a1aada7'
         'e778a42bde19ca612a03c66a2a699f74'
         'ec050e1a8960c6978abf98308aa51ef4'
         '9d2eaa65c0487af5fec486f9c090a467'
         'f28de77d52f0932c015954b2a66975c6'
         '8918f14b23d9a24967ea06639e28c69c'
         'ed49aa6223b79b44def8421b112d827d'
         '29638d580b1351c6e9fa29b801c2ec02'
         '23dfdc1dc9ee0961f26df910bc3335cf'
         'adb5c6e9adbddd118ed5be57280b675e'
         'c93f8764c078ea933948124a2aa687b5'
         'c8f7641f943580c97f08876d355f1a17'
         'e96a576cae21c33121f32af5c539fc98'
         '758943e9161c9def4f70ad8d8f2665c5'
         '12a5c0ef86d5baf31eb8b76ef3f15520'
         '3134330e85a5d76c55b24f0af1fc8eb4'
         'bb0a66509c7eac053cce2210d5746bd1'
         'e7cbaac4a16a83e026704fdbe55f5911'
         '3475ef778c7cb7fa9357a22015420211'
         'f09ae46d7b93bbb0b6547597c68a97bb'
         '9fe69b9f64e4a9eecb09b48e6d7b638f'
         '37a4f19ca970cd9936ce6372e6fbe68f'
         '3fbcb63cb5eaba808caba0586d0e3354'
         '35652fb2bd197ce21c7fcaba99ef82b5'
         '162a9f79deeaaa9802c060b50d39ec20'
         '61e9ebfe17f683bbfb025cfac65ca006'
         '287420ac62c7f382a8d1f60dfa38b0cd'
         'bd1d8e5e43e5addebe6f096deec8a420'
         '54e9e486fd86b447023ccc539bf1edbc'
         'b9bc2694f6ba425f16e0968eb51893e5'
         '284bcf8df85c41dc1a951e55f1ea7304'
         '802a98106e61e344aaab42b1b82b0b40'
         'ac6360039630b32fd052cd098898dcad'
         'd05717a1a392d114395c76ef9ab754b7'
         '6389d3de1260b0341f4a462b81fd716f')
