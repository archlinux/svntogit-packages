# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-i18n
pkgver=36.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('593bba0eb98b7622f3c78a5d2947ed72'
         '2f9aa5d06b4c3c254823f5201f5703f3'
         'be3508b48f1939ae423b8431f18a7214'
         'f9a64f5ca7946413d8ec6e63eed5d6c6'
         'fdd59888897f5f0451fcb7f0681c1f0f'
         '6e94fb1e91ed00ee7f8403f1dc550d20'
         '0ac74f171f9a49e2f39ad0fdb9e39c30'
         'fa5bb78ccc26189b701c68f12c6a9d3f'
         '98133542071c31e647b10f6841c7ff5a'
         '510e33678b403477009681affc481d96'
         'c9c297ac5b56882d47bf073d83f68a60'
         '24262a6eb81fefb80782f548fa26f526'
         'a35f42be5f518d3826e697966fb463a6'
         'dd0570df34625662f09c50ffac8b87ef'
         'b420e4aef527de30546db0d33f0c5c8b'
         'a46ae0fa96ed1909c085902c5f9eb30e'
         'fb213d8c0a8b2b02894ba77c1d6efffc'
         '4b222e400a58539cd375db262a2b79ae'
         'dec23793ec1fc01e138d33b902351e68'
         'e0979935960adf3717bd5178888ea5b9'
         'b151b78002dc816b4d7841226640e3b4'
         'a76a428292bfb2ee4d5b71e709b1e401'
         'fb9c6993bab2e503bf871a63df41ee3e'
         '28600c53a108432fa4bb126dcb7483e8'
         '6c93f6fce8d2b6d32601d3f33fc89201'
         '408115a1d571b6d72bfceb2f63ead930'
         'b97c2dccf6641b9b7807a949e24138ab'
         '83337ec512102ed3f2810ac7de3de5d0'
         '188a65ca6b5e84fb2d13ef1c2c5fc4e9'
         'bc70faca02b1e85b6157974ddd6bc71c'
         '71cdd988c4059114a36f3383be47b6b8'
         '5949ed55d1fed98c4fb3204d569ef1e0'
         'b0dbfe3787e24256cc98142329de7792'
         '52ea1764406d257da6696b3dc6f1def0'
         '5323d0a3005500ff6f016b21d7e48e31'
         'f4708624b950f8ee25b661d45f49e45d'
         '88d86cb4eb925a81a3602b37ec0c78dc'
         '4a431d284376c6e2f56d5c914132a30e'
         '26f241c494aa6fa4fe764345367cfe0e'
         '5e419f112a5fd91f5adcca405d8e8fc0'
         '5a3c4e65a2ba3aba5bae738cc9ef3ffa'
         '17fbf664fe74875db4fa508d9ffb6223'
         '5740de7f71e733577d6c23ead9b965db'
         'd7fb155dcb757cc459063fc67f1d86fb'
         '498806f8c18ed49e74c706ee7357b537'
         'fee6ef15c314f50f4b5f8f44b0da53db'
         '0f74fad94e7fbc9a6232a2a2db0cba8d'
         'c1f17a1745307c48a3a768af86d1c2af'
         '22149638927f5c8fe39f84e73fb0b1ee'
         '7c40b93beb2630cbd0aee98127dcb5f0'
         '8c2ab6f516dcb82830258109816f2499'
         '842bff359cab063af3b1baff7c032c15'
         'ca327e2533c25b566a637af92f97ef5c'
         '1309ec11cb3c15c0038efa926605479b'
         '8e022c776609fbd09992ee9c0af460ac'
         '5dbdfa2e51946e0c4336284f23916d8a'
         '00fec3b1e07c5ef8a64bb1e2956139e8'
         '619c5e6ea42b476f2739daa3970eb219'
         'fa72eec72ee0d634eabd6bcecd998bff'
         'c9e375a59fb747ff59d3fb33c18034e2'
         'f79c64d3f3b1d75091de9a435365bd3e'
         '4a1d913581dabc8c9c2d69a82e91b99d'
         'e18b2a16d359b4c3758a1161bf3fb9ae'
         '44af630da914759856b306e00c932985'
         '563998f0ebbdfa266aaf7715bdb0c9cd'
         'b1cde845b334ed2f0742254663f28bda'
         '70befe4a2e6c184e28eac9578a3cdd50'
         'e60d2f3fe2ebf819026170b2582efb9d'
         'cc1d31fa9d5efe8b6b3882ed3cb6cc72'
         '8059c2192f28ffe57fbb1978a606d0f8'
         '77880da071de46fa763aea94bcd668b8'
         '111c68bc4f469090813bd3986c047b9d'
         'f8399e2af4b14e0f46982c1209af113d'
         '09a14c64d56547895378067c7d9e5afd'
         'f6fce930f1e0d834931e2feae2f9c737'
         '82a3e0f7816e7fa2fecb4cb2e76567f0'
         '342dbc973c906f22e8c0a29f2c431ce5'
         '2e857590d5b0f76362df63b681a7ff6a'
         '04b244cc2a012aa12dbb7071f78bbe0c'
         '2e633724e700bd9e336b6f67542b49cc'
         'ff6c316129cf9c20b255d04e88bb52a2'
         'fcf8f187258cf3316eff55da93c50726'
         '42196a4dd883d77ebe3f3d77f582efa2'
         'a00bd8bda9631d3fb5230326b4bb22da'
         'b649601aabfe1eb30e031b373a650ed2'
         '73255dc1572b8680e7b9b07bc8d5a756'
         '21037c527c41f5df166ef987e4a4b1c5'
         '4257a0f493a19ef28159ee62068e89d7'
         '62813dc822588a94fb1eb7994cc3391b')
