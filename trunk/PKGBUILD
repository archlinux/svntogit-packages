# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-i18n
pkgver=43.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('be7c19a94236fe869b080920d2983972'
         'd46c7cfb7f805009e4d0eddc46491442'
         'a2f051e1e7a6ef12d5856f3a0d77580d'
         '92dad53990cdf51fbba013824274b57e'
         '3860bd15e9caae6a2c4309daab079b08'
         '91461e26472bd9c992d7ceb14a4b7df5'
         'e1969709398d3127e245d82bc9ca6e78'
         '962601f55bab5ff1581d97a0f299a72d'
         'f563b3377af1c9d3b06988c0931513e8'
         '2d3bd8813f04421210f353949264b79b'
         '24380817e5d3a7eab5f9aa34bdae74e7'
         '69b727473b329569f4c2fd5cf38aa999'
         'f11d208f1b5b8187b34814a3b206fab4'
         '9df32ed5b3ac41bd324788a4804a44ae'
         'd01072122038cb54ecf15d9c2062f1be'
         'c69bab9be9496d695a9eb42f311b5e68'
         'bdccc66d816a99e5c1a2f75f08b1f56a'
         'f054f125e4e6e8551f4089a88002fac0'
         'fdbf765c24a96335d71eb4c0b8787e50'
         'ae33caedbfdba266990e3361ee1278b2'
         'd4e417221d8dec447f67bee0cb7d34f9'
         '30a1c6df170f81493e5cf40862379db3'
         '5e9d546d0a6737f79e1ecad9f801ba70'
         '829593f454553164971f03639abeb1db'
         '137e6f3652fa729b39b880d64a9f3fe9'
         '60e4b64a6dfe0cec170d217000e9d178'
         '13fc15b5d4b9fa9a7f552ef2261dd6e0'
         '9724e6c9937da415f1374d80f9b1a0f4'
         '2633c13c3b37093a636cf0c3ccd0a0e2'
         '0deef61ce4aab63e3acac83c50a2b89a'
         '2c647a1d48ec2a2e863ded9964d293f6'
         'e4106503ca3370294a7295670628ee06'
         '1a09428341ae710aef284af41d7bbf23'
         '53e6ce510e446ae9d5b91d0b2cff0017'
         'e0c9f76a8668799b5568df36a3b4be7c'
         '030cde2f87c89e5dcc3f670eee4f6204'
         'fc75e1ca7d22165d506e50f8aad4593b'
         'e316d7d78bde4f4decbdcc9e96849763'
         '948dc581367c99bad88a8638aeac26d7'
         '3f6038bfede62cec9f338029844496d5'
         'a64a0e85043d843788a5e6c3a61756ed'
         '3185620e680e2f2325d0e6c498d2fcaf'
         'c8ef7ea9d5d01638cbf8ddde61a93f17'
         'c5f0d99eec7757c4342449f41893336f'
         '4c5f50be13978c89780dae8a0241e5d9'
         '936908ae360ec8e838e46852ce57dde4'
         '3c0bcac4b8d5c8ef3ba73324918e5549'
         'd2358daf04888f8a6dc90776e7c20b72'
         '8da0ececa6d546f45811ad8c4beef8e2'
         '5190705e8fe564c4e8d530afd2ee2e87'
         '114d2f88bd884b29a9a41cc11f568341'
         'b5e8a0098b4e96edb8ef6ef416402e56'
         'f58133fff991f1079789d71996b6deb0'
         '23e60d71146d59c3188fcd3150b60b6c'
         '039f160a84e004aef01787ec259bd381'
         'a97f015cbdb5b00202a90dc888086133'
         'f76b2c54f51f37851e65c8117bf7a363'
         'f742cc9bede825ec49fa6d1b3e56756a'
         '0ba81f0dc3030be3845792577866c572'
         '28eb4357c5116aac5496ebd69b6110de'
         'b0062311702c69cbb192c0eb47460824'
         'c6d0c5bc237c4cda927e6305015eb474'
         'd8ac1d9d23bf029eb5bb48ff754e721b'
         '5d848c5fd2965e07fbbef8374b27dc29'
         'c9c78290f964df053e491bf52103117d'
         '03c706180385366e8246330bd7966ed5'
         '7650d76ef84380fdf15d236b5cf9c5e7'
         '156805fb96c585e93c99d7e32750595b'
         '19af56e699d82589cf7adff29887b056'
         '57800b2ebc586a870f71da0894937b90'
         '6b13fa1545c39c18d270f70a1b624de7'
         '94829aceae6653c64de06f3e87a84004'
         'd26d6033730a45b3d7b5226affd85b54'
         '2ca3631cc68fb0cd1d239dca39e08973'
         '5f4d0b8524d092d4d95832b9ad7e4c4a'
         'a7de2b631dbca39d19d6ef31aef43347'
         'afe0f742940af16306c21ff9674c5fda'
         '5e6bd03b192a2bf1d488ea6fcdef6613'
         '626e0708ed1f95e166a35a211e1d3bd1'
         'd6493107a9a857ab92c47842574cd295'
         'df636432c12ef2d8f0eaec31226e8564'
         'ca791bbf433daadf8c3fefe55629eebe'
         '1841c4d34315890d9d31ea3e4d3d7bc9'
         'f76281513e84e3ac863e583b18ad9188'
         '825463d94251294369bf00f88b59b924'
         'c806acb6c6fd699ef3473dcf4727c5e0'
         'c0273c1cd53c5427ce4c49f636b8c146'
         'f4f694912745ccf43afa9db9e7a702f1'
         '671f433bcd345dff88a7b71ee52e95d7')
