# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=45.1.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('12c938c4ed833505bdc46202d73cdf55'
         'a5684445edfa85d950d629ef192e828c'
         'e2c14e70e9cbdad451fe3e97c19d20d5'
         '6b872e1cf957b3cd5c40aff7bb5b5e32'
         'bd5218bee1accfc4fe220cce00911f6c'
         'c1d0bc850103547e6a1b3eb8f0ffb9cd'
         'e3b659d4dea90ddb74f646986ae20e6a'
         '58e44651372bd885208c3efd5044565c'
         '312950f1b6e9d0df1549201ae29f67f3'
         'f147fcdd2fa23d0a71cea4ea74223437'
         '93561db5d1eff8e9273a17bb53abe5f2'
         'd5e6c744d210f6319cf11b2dff5a0320'
         '3ac66eddb6db25a3f2b6ca7daf5a8a01'
         'a94ae138b80ef619d6cf1b081232e108'
         'fde5e2679fe4d5dd1f5589f8d8093786'
         'f8e86752f93957b9a07efa23f536bcb0'
         '163b4036ebd01bfc3e14f2142a51fa51'
         '3a13542433fedb48eabbf2313e9786a2'
         '027991a0bc235abd9b601e23259521ae'
         'ce91a8f079628605667d70a97f8d318c'
         '09cad130aeb5675f93d2d81675a63c1f'
         '838dd0fd43ca04f09bd9a6be605f3b4f'
         '60abf009e000e1075d3ea125609bdb24'
         '25f7e5df5d68f2096841da62f62ede9e'
         '6b65f2c677d6bb6dfc9e100d010a748d'
         'bdedc5fddf72a61c2ada976d8be2826d'
         '6b44840b0d0ff3a10f51236bd0b257b1'
         '6720b5fb70de37ed0533619c5f500bc3'
         '0f3a5cafa209c7caeb786d6581a96e5d'
         'e0571a2b6a120bb735a88705d3fa1cf9'
         '955ff8994d1c421a97cdc41eae854a7f'
         '7563e6d235f1fda496087472a1fe61f8'
         'c9a03da99bfb909709eff56c7b881a60'
         '7ef1afa86c77d683218f95b900f05499'
         'ec5bde3ce33d2d1c6f53f5995b6fd933'
         '31cf185fe23c3864d06d668d1d6c0935'
         'e1d8e15069d8d551a20528cd6d36453b'
         '04e8801f3a1ca3ff2c3ed7915119da48'
         '2d175df68183852bd9eb40ab09c3f758'
         '3748664852f99f3f778a655c77208fde'
         'bbca547dcd4374c62d942d6de4349d9b'
         '5727cc3fe475d4c1ecdd47d1219f2b30'
         '57ce0bdc469438ab2d662d36b52715f4'
         '5a308c5a71203c7f7017add5fb071f49'
         'd23d5a3e94ada1889d7e6acc01aa6ffb'
         'fc9375eef570d4bdd6e3b7aa419c401a'
         '1ca0a9e70e77cab75342aa0dbf916fec'
         '3cfd658e1b7ada226a7d8996c7980d2e'
         'f9e75f9d0e3b49fed11334ddf88e80c9'
         '5268dceada65f0976d843d411fbb2376'
         'ee5cf57ebe3b4de20b92f5fa4d44334e'
         '4de031f836e408e133d2da23bf491206'
         '48e171aba339921a46950d341db720f1'
         'f8386ccb67480b2a8908346505921c43'
         '81a785470b4cd43a0b1e63bc70db611b'
         'f4b02611488dcae9d0e2495fa48a193d'
         'bf9490d1fd741258b54a763437b41c29'
         'c89af5e9ce8d10d33da9b59835311a37')
