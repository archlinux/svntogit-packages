# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=38.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('70fb915f31e9d96557b51e661893a20d'
         '997192514f361f4e787a15de01783ab9'
         '62ec7e1fdd03d174e455ba9714914013'
         'e5dd6b6217947999a5ad1dc4fd760462'
         'd79b2b1d4458517e0742900dd2a6058c'
         '32e9eced68e021f3416eabb8916986e5'
         '21bf014d5c4d689af9e4cb7dc17dcc52'
         '631a85b5d454f8c4c553ac259f895951'
         '8758668f540a78ba500f977f6e932568'
         'cc6c8cb2d6d6a897411922e01d423a13'
         'e36b2673996247c1570c21592b1d2de9'
         '1d0e6f47c5accb3c07328041395c4b44'
         'cf6d030a87538194f70039f0145c862f'
         '79517034cef77103bf48970e18c9b7da'
         'c4bdaabdcfdbea73de8dbd1e526f7606'
         '974a824746a63ab5679ed4725ca5b6d2'
         'bb649b9ed1af1f104ab342aee562110a'
         'f895b1c8ceb7a788219e6e6df7cbe398'
         'c6baecbdf7f416932c5c108b5bbabfac'
         '580f110e7ec107ce67ef5d7ccdb9698e'
         '3bb8c389bbd7f1dbc8697d1c591bd9a9'
         'ff0437703db0408dba14005e4951b65e'
         '3e3b49e40cd2209a64bb56ebf7a6cde0'
         'c503c8e1d140d007d32a052c04ed657a'
         '8c5d18adc5fb4c24bcd8e88fe9611be2'
         '14b5ea99dab49962f9611a9ddec374a6'
         'be7ce76e74987c914262115893b68aa8'
         '9f0fd50444610152369fd6cd50942f6c'
         '9028ee2f377e153b5ae26b4ff07f41b7'
         'c98546e992365e3727102f49bc032831'
         'f0e22e274ee9c1f82f367d70440b9a3b'
         'c329ac2f367f80ee71ef7c12ff05db3f'
         'd3a43f8f5aa5858f9cac69d802884087'
         '6e56c014239218019eb97aae29504cbb'
         'a3745e118882d0e13f0baa566ebaf0c6'
         '7a896f79a235a1ee01221e3bce8e3400'
         '33449f66dbf48f3ed9072430e91b2480'
         'd5ed4ff13ceb564ff36954b670275f4a'
         'd7e113922a500367fad7e5d801a8b256'
         'a1d8c30ca1c80a543f3f40d7c72cf2d6'
         '6ee9e518918cafb2293e2cee06e196eb'
         'e7d427a6e2bb70fc39623090984e2f8e'
         '4d7b475afeb7a3a1603d44082ac2538b'
         '4dbfb3c01f16234a551a8b0092d192fa'
         '8344678b5ab8cb0e90ff859b76f5df7d'
         'd38f6ac503e56426d6d716c81fb26692'
         '849ddb353c4f5d4eac5475188802eb60'
         '4b04df9753b0e0dcc0e2ed1aa94b0735'
         '28e0957085b52bee3aa11e46b0f93f0e'
         'fd86cc063e6eda802968181048a131cf'
         'adcd548d1adae69b42c4a26bf6f80baa'
         'd5d30fb05007b4936d0a2b01396bdd59'
         '67804f11cf515ba3943c1019daf0e776'
         '8d47982cf7e1130055bc1f8139879482'
         'e7713e79a7c28d7a03bf418d09341ae4'
         'be86e551496c12250f85ed5d0ed051df'
         '5f26cb4679bc4ec162e7be84630347b8'
         '65b1c36008e6606d519c1e26eacefb55')
