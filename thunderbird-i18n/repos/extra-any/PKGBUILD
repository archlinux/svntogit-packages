# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=31.7.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('543e5c3efc0f539cb23566fe05a62fba'
         'dc778e99a2d516b0ed66a26cf398ece2'
         '105efbe2ebc6122b03480927b984e339'
         'e5dec66f1b15befcfb919ee7297f1e87'
         '36fb61b70605d4659d1975252b158d75'
         'bccf7947632424bc2c8c6fcaf8f26870'
         'abe178a2db408d3f433d5a8b6866acbe'
         'cf59cbfb11a4240eb20947ea3732a2ff'
         '2f10262825bb282c8ac57fb5c7b03349'
         '6915253b3960a14f76bb0f7a6119dfdd'
         'a0fa755278031bef5dfe5d941c1103e6'
         '8bf52361c83737e091a25c62d1343425'
         '55ba49373a793e1abdc29d8682b7a990'
         '9b8489c7e306612b9ae5ad5306f2f4d3'
         '0f596623dcf529c1bac082bc6c3ddbea'
         'c01a39e4d0c2390a36869cb968fe5a98'
         '2c45197212e8bc8b35883bbd40ef3973'
         '3b0ef7daeca4ff155c27ef5cfd0ecb2f'
         'ed586100b0aba5dc6f2a78dee3419262'
         'db598b1e5199a9ebf5bdbaa80699b88f'
         'ce103e386cb697829f5c99ebd6c918a2'
         'd3b30d04853adfd1c024687665aecd52'
         'b38d35bdf8820126dbda03c0ccbb2b02'
         'df3cf9b1be1253bf98a931c159bf3790'
         '75cbaec50738581353e74f635ca33af8'
         'b465d0a0cd7ee9b849b7f77f361fbe2f'
         'e59338cc51f3dfce4a12172123dc4ce0'
         'cf6c621d260c1c28982a2cdec53da0f4'
         'd23a3a08cfc6afa5f890dbfd112eae4b'
         'bb1614529b69a8994b55e632e8498dc2'
         '9d84def31e38c2b41c1c2211ca04732f'
         '6d5f9bde20a748237ea1aaeb7328bcf6'
         '461219e250640a78b8cc7c122dbf1ae0'
         '69e208f6096662e2f5c5ecd69d6484c8'
         'a0fc5036af406a4aa5b3dec868224fc8'
         '9a154f39ce04d6f3f8a70979a06d4a8b'
         '1e416af4049b5820ea5eeebcd8e0bb78'
         '9f85d1201cb519f14b7b6f84be8012e5'
         '656326b160473ebc7e560267580edc67'
         '75746390aaf5cb4a35d141ffeeb190f1'
         '7148c071a6e69fbf769c582f67d02881'
         'c7d5c8899c65c582bbc2f3ce07f05687'
         'f64e63704a99576377ebcacb86218c46'
         '129a411e0c4e00360eefa0398e0e8db4'
         '443eee5797c95cffaf010e152f14ebdc'
         '5d0267c90ec010699a72eb830c5255a8'
         'b48fe02e513d4f89854b6fab4c8edc7e'
         'da625daf0c74f465958e2c90d80cbb4c'
         '8783d413a5ab6e1eca3ec53565c67a40'
         '9d4c3492aa5d8697072cdd6445c15a07'
         '738e89196636351e7f0c2f8426763b5b'
         'ceabcb98fde0bbbc715bce7224d00879'
         '36b786da4f99196dfb9c193b3594c229'
         'f829f9c8810f55e98ada1e7b2623e7f0'
         '89cc8500c495d4f759dcc28c5cf8f685')
