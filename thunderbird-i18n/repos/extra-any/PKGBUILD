# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=31.1.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('b9dd6f7af0adca1db280d4f6ecc608c0'
         'cf714ee58d8abc5deb401d6141763363'
         '17e27e6aa16113a7bd08b6362f723f02'
         '4406446865bc2cc7d188e73c15a1372c'
         'dafc4a0eb03404e0a68cbafe9ff564cb'
         'ddd9b2a5f328f356001744a72130d696'
         '579031a33842d9e570f5f3618ad8a262'
         '8d42d2963666c31ae52867ca56f1c494'
         'd17628d18a17848b9f21b2bd9b7e4678'
         'd84251fcf9bf7f9d8dad0dd0d196c4d1'
         '9fd34531087829ac3ef94590393dda92'
         '7075d76d3e1266db9691fdb121c305b9'
         '1c0445cac037b41f76060e863712dfef'
         '06e3e83227f7413393a394e46ac7eb97'
         '9d2700bbeb0c43b04baad56cb2fa8398'
         '2169170ebe59354f21050eac5e99318d'
         'e3d5dedf83219fd8393d3d626c25b305'
         'b73f4acfdf6ba9daabf3a76370ce72d3'
         '7dc04a73b74e88385c18d1dc6dd17530'
         '639046647e35b9a261035ff809a6151b'
         '8b88276e8c56f5c751857fc707f7c0cd'
         '188470de58c721c92ce1cffc146c33d7'
         '16470273598a8f6b565927031ea0b21f'
         'dc60fc1a709d9cd08b3a929d1b819726'
         '467964444f415f3d50015a3021bda9fa'
         '115e8aa57766204761fa99fc33712036'
         '17d0d6ac278d559e96c629157d0b34ae'
         '555e2208c440053d94df76c3ab6d3aea'
         'bebc2363e0a5abb4b908d0dad91a6b16'
         'd69d466a2fd3e982d51007c94b0f0b7e'
         '9dd4b0b6b15afe6602a79383bbb2f367'
         '126ea909609b32c2f831d8634aef55df'
         '935efaafd2bb20fb762ba120a2bd3514'
         '16d15500a441161da28194c182c27cd6'
         '48f7590a04ad00591b42da45b28c1f5f'
         '0603d53f98b483e581f7c329f6e38907'
         'e6af1825b02a343cec8d3067eceef375'
         'f21001e1df7fa5e7ec28cca3d1430776'
         '7ff61de5411b7bc8c703d983cb611a49'
         'aa728914e7b2d0312a9b7be54a375872'
         '49ebc20e888cecb0392d7b434ba27b4b'
         '1bd08b14e0a533e52cc9c713fbd00179'
         'e91277d27acdb351ffb6f0f263b22877'
         'dddaf2575198d3bf159c96ae38ec079b'
         '35a948fff84cd5d8634246fa7cd386c8'
         '1c13a43dea83a9bfdcc9f7935da038bc'
         '493c7323fc08a897df0dc83197548324'
         '67cb9c3b2e9053cf951680a71b828249'
         'b9051cbe5747d185ed4a2cc90c80b7bc'
         '70e51067b1d1b716259fb9709e8e0df9'
         '1e15c41fab271dccd26c07283902f99e'
         '0d37eeca0cd8dbf074f8299816f718d7'
         '3b924bfa53c054c661aa8f0a56567438'
         '110884962b4b3ae8a0efb29e3c3580ae'
         '000744a3e93d6ea24ba3eb5dc3a76053')
