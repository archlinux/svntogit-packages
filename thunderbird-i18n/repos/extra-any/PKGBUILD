# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=38.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('588f1bd958a7e79a9804008c9e29412e'
         '8c12ea43c1567aace0f179ef7646fd07'
         '044de68206f03dce35c71e3b7d588bf8'
         '5deb164292b6dd79955faae3a2544fcc'
         '23f086de876b2b7b615d75d77b1174b3'
         'fedc88d7f135fd37633285f043c17f70'
         '8f37e82052982e7aab898e6d6646c4e0'
         'cc38bc525204ffcf2fdcf0be5f43707d'
         '74fc1a1c3d996d6613d074983208f176'
         '0160f06c5f4321ce1d06d8e02ea5d47e'
         '41bebf2648aa3105700700701ab56e03'
         '8d7b02028e453e57ce8349af8efd31cc'
         '96cbe2ec9fd8c3e99d459fcde8aca612'
         'a2adac7bf8a40b4268b9d7eae00170b2'
         '4ad1074817fdba85d5cb0a27fe834603'
         'a380907791e9a35b76ecc5c6229cf96c'
         '9493bcee055de8598ca1841db7a53873'
         '0663cecb956c15863b42151c8a86779c'
         'fab3cea9e12f60870fa08a1a2b35d8c2'
         'c31e2fade4c90f51273c9a237579a672'
         'd01795d81c0fb0b820b992b5aaeffce1'
         'dad61ae09569230a17a5bfab3348fa17'
         '1d0f257f195aea80ed0a9678f17ceb41'
         '935fd9e4a0868bed794f052905b3fb51'
         '9257589e78c3bd1173d0305e8dc2af80'
         'b2cd3e9821f5bb7de709ecaa3bef310d'
         '6e003fbdd46ebff647aa29674f3aab55'
         'baa13e13fdfde728085eb3838b9a4676'
         'ec8cff57f132e2e21656b85a3d843d55'
         'd47d80ff2cda01f36b373e47f2990fba'
         '073be1f6de2156c1206c0e785a3ae3a7'
         '2d4d75dcac96aaf83ef16d1952843488'
         '2bd2b15120e59751b0e4bd49225d702c'
         '70c57aefc53b681448502fe3b3ec33f7'
         '9bfefc06211ea7eb7fa4737023270d3f'
         '21fdbc1d4a36faa97f049ffde6a6002f'
         'b4528ef3fc9aa20dab2749d0df4162cd'
         'bd8ff713a7aac67c2a1033c183ce76d9'
         '7f66592a3b562fc30447756c15ef1c4e'
         '4599093142ffc46e405d287d943106fe'
         '1720b133f13ac4d5e7f42c4031af6b63'
         '99e1a08af6e3d003693c38563a5822bd'
         'f0a22920107a1551acdf2ea29b21e992'
         'ca3b3d472b7ffa2be533f98c8db13e24'
         'e7294c54dde4ea7787b2b3142fd6186e'
         'cfc5f9182a8fdb4ed92366ba9a0b1f18'
         'a1b56abb2afc6a0d8afaebb27103e484'
         '0cd9daf605042e37803cf7fc54879ecf'
         'cc85c11d420d28d1a0988bdf333d1818'
         '0b8286f84dca6f047fee88819f4b90f3'
         '88af510d427fb9dfbfb0d188905a45be'
         '84ff873704603fd3d214d1e8892c4f42'
         'ce08c159f013962aab58ba47080bedb1'
         '2d4e871fa4aeeb668d6aa6aaa881d5bc'
         'aea97c3f742c3388fd0ce7ee45c296a1'
         'f96b53e20e0f74dbaeaa7321399409b4'
         '8ec8f1684f14c26025451f15876d31f3'
         '4121196023946b7ea666e5e1bd696164')
