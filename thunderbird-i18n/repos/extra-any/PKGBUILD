# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=31.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('41a1aadada7c3bbc33058b1bf5deff12'
         '58317d7d2e1aa6cd6a944b8b10d33fad'
         'b1ca257ffbd35099eab1ac21c3a2e2ca'
         '7d50e34c601b8018d520118066cf8780'
         'bb73d5a65d6d730183f6770930890630'
         '245d84a1c5df030bfc0f093e6c6d3051'
         'e5cbd45089c311a87c92b34e8f0645e3'
         'e5fdf48af4b24469bc153b20fc1b5efa'
         'f3c3c1b39b392066eb9892e6acac7a6a'
         'c005c603da105b26824d6c183a144d82'
         '01fce198f56795a5cff861c95154a525'
         'cb2602b639901402c7266b78c2141ec2'
         '824a7b1c6cf6f8bdc778b36eefea5971'
         'e7ccc8b8238d1970e10ee808323a2327'
         'f50f23f938079fecfc6849f2e0fca7d6'
         '57d311ffa424d7de10fc5737371106a6'
         '2a5f8433a41916ef3bfc84e219ebbc2f'
         '704381619649628dc39b7872acd14983'
         '58d20535bb2273a4cd54b1d60cbfd1a9'
         'd535798d62266b6a160ebfe70156eeda'
         '3c3a2baefb22abbcb06b4d182a19b0e3'
         '64b596227f7f4120eee6437353f8455c'
         '94132058228f9f427c8158545a2ddc72'
         'c7908c8609da29e1ff008b00c6d6f586'
         '2da197bd8acb2e9f9e4a0822b837fef8'
         '68d0dcdef697bfcb01275d8182666974'
         '69164bd955af05edc01cfd758bdea1b3'
         '526ef692aa690c8a818ab1da41475611'
         '49cad474b1ca879674720f68e3ecf74c'
         'b68304b357f9ae6d5c8f8b58b8fdb8e5'
         '34a6a3dc4531b63c878c174bed861c2d'
         '43dfaf3350a9c94c7d708c8720da9c81'
         'ffb64c683ee918b60b54f9e2b65b4c00'
         '7b885806759bcf040fb985c0a6a20595'
         '4dd4c96f2f24e3f40b9356f1b1a0dd85'
         '176ac461a4f8053a6294f248df88054e'
         '275647e1c0f2d07b9a8d2204f5bb1983'
         '93daa071c2af826394a7feb84bffc33c'
         'a5dd9fd69177db51293147ff032454ba'
         'd7f9e27b7c0a07355764a991d869571e'
         'a79e2c5bc3868c6d468349a569607b83'
         '953d3482d7646f85dbb9378078ac4dfc'
         'd4586330f6a2ced6a00f4b585cd5f56b'
         'f049bdb510bf34fae9d4c1dcb396bb9f'
         '9f8559e5c753a412dd1f00b7c3f0185c'
         '0432123f80e02db2c108511d9df67b5f'
         '18d1ba6dd416898190de019bd158fa61'
         '21a2655d50e77b9a7111062902034697'
         '5758ad22a869d9f38b225f3ffb557138'
         'd9c5af9cc40e078fa001c9c8a511b554'
         '48c2c01db62d1b2baabba66eaf9658bf'
         '736c1c939d283cd51292ea03c1e0c296'
         '52ef2d94282af4b2ced867389d653c6b'
         'ee3d2fe52bc40d109d7f405c9c5e6f0c'
         'a1f6686b6896232abd441e7355f7fb1d')
