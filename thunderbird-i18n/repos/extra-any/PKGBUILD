# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=45.5.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (BokmÃ¥l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  depends=("thunderbird>=$pkgver")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('857426284754fc97f6df5912865720ae'
         '01e95223941ad8ca64cd5588f4851f13'
         '6c11bbe9531391276c7e7c7dbf93f565'
         'c4063667c022b0767aab5e655a928a62'
         '4199ac9b9b4414be8c1d1e2b46f2bc80'
         '9766de1ae4d057d3af6f886abdbe8de2'
         'b199f61eb4ead56445814e8a01a25af5'
         'cc6f6b339c399a41fa2e4603b2186ff5'
         '6f1c185a460b12318e62f8aeb8ab1feb'
         'bc3441085311f9c7e66b191765e8b3d4'
         '872b9962f0b02d4bf5b6fe06225ff443'
         'a6021e0521ae8f80d3c689b9a9a88362'
         '08509f5042a7d63acec91a27d6cf2b0e'
         'f834fd1c474c29c2c5aa9593b14f824c'
         'f5673cb982242d60e205e48b4c2c6df2'
         '4a82038e7772688445fd3b8a5589e660'
         '5ec27e6c923ae5aee3a2c469446a4d1d'
         '4c8adcb9ae7df751e1e2c28524a19c22'
         '8ef4ff8e8125209f5d246f64620f09ad'
         '5b7bfe382eb7c12142f031d6191d839a'
         'a98a53769a853d6aa20a70618f4794f9'
         '3037a81bfb573bd55875649545784195'
         '24839e67ae2efc655324ecaa45fd3535'
         '1b929f1658c3786fb66034c26c10e995'
         'd9dc5a04918c2b4111c00ff53b2a6f74'
         'a23d4c8f760f042877049725478d0ba1'
         '44c4406fd6c66a47a74dd7ca53712473'
         '817e0a6150b3dfb2300b0ec70dc80c5f'
         '7f5ffc933a32372445d2435b8ed58519'
         'e98b48e30bc6b2dfb9b50342b9a1fa76'
         '6a08162a42bc26964f6444b5c6506b12'
         '3e24e51f5e5ca41fb93b2cfd20c00183'
         '29f62ed6db3b9cb0485291c7d56ef949'
         'b6d2cf3aa4be696547ec6154b678d458'
         '90a335270f719f1a3809ba7398cfde7c'
         'c41696fd34edd04ddad44a5a944487d2'
         '43fb7aecde7d6f2f653f2161559c56e5'
         'd27a63660ad963e6074b78ab56e68546'
         '0a717f42af121f0a10086eda18813a29'
         '35c0f40dc43f7cf4f755b30a241f1fd1'
         'd031aed6782cce3fc1140cb388041019'
         '1eafed5488ba5b5a4d6a726a52775b54'
         '28793f4adb8d0bacd0f1a9d7d53f370f'
         'd17b6b8bcf7bff959f764d8cc5b8dc3e'
         'afcf763349bc9ac3565637529b15cc12'
         '66c03b0902b054abf70dd9827d7fd801'
         '4379388aa705a55d8bd9a48d688251d9'
         '0bc7332b321305de52a80c8ef74657aa'
         '712f38efd0f41acac88d4964396ca1b4'
         '1ae1d35f8015561e1c2f9d3a22f774f7'
         'c41033f31ccc266bf8dfcd94b2fd645d'
         '1aae0b2f08e5ddcebc96b6d1d6027df2'
         'c6f2ee560dd765b84a8020c65fa0fd44'
         '48a1c76d3a0cb30a851c9bcbf0038277'
         'c60dc30c11c82a4627da2b5e0e94fc4f'
         '7f7d2ce549aec2ed817ba7263b049639'
         '99fa006939c1f877f84530cf8021b507'
         '096c55eabe00bceb646183675468badf')
