# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=38.7.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('39cb2fa93c785087cf06b31ff539b18a'
         'fd09ae60db25a1affcd693279a7e3a8c'
         '42a8310752189d4c35d486cf912ecf9d'
         'ebe6bd50ca724c2076f83bc61f4842b0'
         '121220d8d6a7597c5a97512dcf5682c3'
         '00699a9f1660ca2412d0909c178d1d8b'
         '1a296eae6e2cb9e7dec0df570cce0024'
         '9f227cf8d1a51797d0be8adad07b3002'
         '5b11644f19cc2e19beefe84263334ccc'
         '21dd4f29cf516eb0f23f4a17bc883c2f'
         'a6f0760abf1d14cdcec95499f41c566d'
         'd4445c3163fac3441596c8ef6402510e'
         '839039cffd6db7c0be30b347b426ec83'
         '48bc8f7e67af9085d6481ef18ac7dbb5'
         'f4551c7220daddf10a4d4acb15ef2a6a'
         '08542e2ba0d313afebf242e0a6f3ff66'
         'd57ae1cc08f9a0b2d5a37797234e43b1'
         '1e8aa64f78ec1b2e4f3907eb9868e87c'
         '2018ab05e57bdb9fa9bf8f27b1db952f'
         '17b77d55a38426bcc86fa2d1484e685d'
         '1ea0b2afc4ec6b0f919f087780a99fd2'
         '3cd53ad0c986fc7e4b0a552168ea2893'
         'ce7caa4e4419a676837c3b22a3871286'
         '1694d62a3bf99d49481bd336e5d917fa'
         '5817599c4bf16247c9bf85aa6ca9ab43'
         '8d9cc59ea29acb0fd4b249cb52ee0b54'
         'f4ed20e709c966d9cd7cf506f8ebf1ba'
         'bcc566712ad3e0a228d94aa9c10ecb0c'
         '38bd8e795dc9236dae69bc6b04cb3b91'
         '68091be27ba2d0254bc4ee12a85239dc'
         'f495a0f884de468bfce44a0d6f632bd5'
         '41c42d724eb5f38c2f33ad1004614c52'
         'd39be9e748198a0e0e791065595cb00a'
         '2a5f90fcd5d9f6c811db172663764de1'
         '40d0db00d52f5fc35c5d068fe0cdcee6'
         '680279818b005b8c05b5bea57d97bf3c'
         'b4b1a6206db27e1e953987623bda3a4b'
         '469b11edab815060233386f6ab3ed6c5'
         'a8470c1ee9295cea50dd19301f86063b'
         '40e2805bf9620c8672aa08d45708e30a'
         '75d32fca2c7f87244c1e142ad1381a00'
         '53f9188988c5c8e7ac0185912c1fad65'
         'd3462b3bb8ef0f5cd6c486823b9ae15f'
         '90761012502dc4e7c7dcff3c410ec64a'
         '591341569605d64dcae1ddd7220cb6ee'
         '2594ebfc3980716ed2b626653818586c'
         '504146788c9537213fd088dd917be9e6'
         '190628cb7c1ed70f41af4a74d8275343'
         '4e2c7a443036dd7ad940b51109b7389b'
         '24f59091b051cdf1626b6c6f8bb41df6'
         '7bc45d8eeb7466199e4c6bd1268c30b2'
         'd42ce40e4dec4f6cdd67707e65e95429'
         'bd54d2b5a73823f78c95336ae923aaaa'
         '19c7c868daed213c74e37d0dece7c479'
         'c623b3f301ecfdaaee7de5cf28c7f7af'
         '29c51819766726106fa19e9589be4e22'
         '8044ed49ea3f1a74c1281d5c015654ec'
         '0ebb38aed2f81ec22282ea587e821433')
