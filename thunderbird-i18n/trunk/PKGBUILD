# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=24.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('c2b8e92209dee18a05b94e09495f1385'
         'f6cac4c6774a7d51d0e3a22a03e61c03'
         'da248970bf31af33021397bb13b1d750'
         'a457ad88eddc7ada60fc04b8ef6336a6'
         '930b436e34a7766fa192ef6813716a0d'
         'caff4414033312e1a2ff725eabfdbca2'
         'b73b185ed157581bc86dbad70140f781'
         '66c0d28927983ae37589a41b62acbda0'
         '26bb279c4ae7d5987fd2dc834e265609'
         '2cd9b504b4c4d52cb0f6f7a09b12897b'
         'f2d9ab2811ddfe4dec979aae63aadc63'
         '68bb674911996827fb985ab4e0d7f081'
         '5c7304dad3182be7d1a1a0b5b6b517f8'
         '1e6ef27a0f757e1bf3bd48dfcff988c4'
         'bd6530a1f5c3a06d2f974f440b6d8d00'
         '68225d967e08411f1b825bc6d5e4c17c'
         'e507d0dd7391ebe61ea6dae549db79bf'
         '11dbf8261b1cafa849f25d9349e85805'
         'a4dead940907cda0bfa633ce7d641028'
         '165952170f601ab004c148d5fa1c5068'
         '73e2a9b97d1b837acbda9bae9e54adab'
         'ec738fc347191482dd771270891a9554'
         'b61b62c115850b57a9b9d20550da4475'
         '921e5a2f5884e63be3b6d048b3050836'
         'dfbdeafbb865244131c3909c5ea8dcb4'
         '4866218c8e0d95028dba65c571b32444'
         '005ea48a3f6b0ed0c49ef0fe8df056e6'
         '5e2380bd5cf3f060bdf89119c78711c6'
         '722629d32b0378356fb4aae9f9231f61'
         '177fb699efbb8b30cd64971b6d0f6e75'
         '790e2882c8084e995503d1f8f8b79b02'
         '16f4e54fcaa46f44fd8fad365b30c335'
         'b17a85308b26e06e1d97e252469a4317'
         'dda3a2db757797e1fa0178b71b5cd962'
         '297211f4484ae43cbe2efdcfbd4ee1c1'
         '070c2bad3853f2045025a07b3025ed79'
         '6a537cde801fc16caefd7bf7c84dde97'
         'aa0976c319f0363d2c64edd2f104c0f4'
         '85c978c58c59227516e195fd946859d4'
         '221d467d340b5e8d5bfee54b0c78995f'
         '8fc6fc5c4902800a030a45dfdd0e2f66'
         '6dd39f9c8598f3da3397ac304c604042'
         '53b97beda7d2f610c41d97e39eef2c4e'
         '8256a23a300fc2da822f7ba60604d1a2'
         'd8bc9e2baeff937a4d67e2f339a3cee9'
         '9bafb577debd20b9ef3b4e2f583c66ce'
         '18dc25d9341b70464809690bf2df4dd3'
         '22bdcfbb2ba9fe31378c4421b19dac68'
         'e715a23c6f4c5f5830f02c13aefc04c2'
         'df57a059f59ede99d67d54ce28c09cef'
         '73a0368e45b6f7dd46457903e710e96b'
         '794888d55fad6a8ecc24ad68791add17'
         '71b4452650ee04a3051572340f66557c'
         'fe35bcccdafb436a4ce36a3679071c78'
         '744d692118ac876260d47247d79590bc')
