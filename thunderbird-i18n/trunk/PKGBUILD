# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=45.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (BokmÃ¥l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  depends=("thunderbird>=$pkgver")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('1763d535ff27e6167b96a4464756e876'
         'bc4d2c68f96a169e2bcefc6eb97d5798'
         'b3c82c9bb521a7f90f410b0b61a25083'
         'da80617b05e2b8870035c8cdb9ccd1c7'
         '928cf68458725cee26eef5b1db7d9316'
         'e2b7f7a6b2fbd71e5f4ef1e29e828fad'
         'cdaec2623acac70cfbd3a7e47222a1ea'
         '2a2bcdcdbb2c16c108d4534ae19eddfc'
         '2cf180ed6166ba9011a364b3b6180327'
         '7cc0b8c0827982d0d65b53ebc03ba298'
         '4d10b2f0a0c92cd6f0d19e25c00df85b'
         '8d66b96240eab146feb37b52e4448252'
         '1647e6d07baf9aba8ad6d782fe4e2a98'
         'ba48c71ec9bd479089e9faa3d6652de6'
         'e12b08d0b36bec442c39ed86d5c5ffc8'
         'f56e70d9e41a2af3ff314616aa0d11c1'
         '0b78e105be60f6d0314b242c697fe42d'
         '9066a413cbb864d8750314f88e72341a'
         '6744d4d32fb47cb1ac0dcb191284d06e'
         '7c540e90a485e2c5621d953e9512fb9b'
         '37c8f7205ae9ed1bb5496729f1df957c'
         'a460533d3915a906ec2d7bc96ac4ae41'
         '1517dbe9df4898f2b5e589a0d68edc83'
         'd4c473fbb6950262eaf6a8afac7e929d'
         '904bf2822e113123fd85f96ef8e2cbc8'
         '9c5eec85440e8ca18ca1730d22bbf97a'
         '6df8a923ce9ed177f7714aaae51b646f'
         '5734fef6e3bd8a8b6fdb865ceb974ae2'
         '536e58da19080109e665922f681362c3'
         '8035f1c4f1d98937fe8dce10df78bbfe'
         'd4097f80287bb93a8b0ee6ce8039dd2e'
         '616c777ff99e402ac010ab89b7443689'
         '7b886e732b0ddb23417904de69b29f44'
         '6d670dad5a4194e20c8f00c942e254ee'
         '41f4fcabd8b69b547fb88f06a48f8222'
         '8e59480a8543ddd46982266761e7a346'
         '69efb73394d50dcf771c708e6bb035ae'
         'b43635dfba5c37d4fcec098a9b74162e'
         '78d2be493058e5613b564e528b211252'
         '0e293d8d3eda1d94feb09ecbb5b784fc'
         'fcb82439cfef3625a97623e8a46c4089'
         '4bfd1c2252e31ff54c0714d3808d585a'
         '897f625144814f1af891c0966625d696'
         'ccb32bab80c69f50f70419b22e662e51'
         '09578e56a97a403e3dcbcb7330a97a90'
         '67407cfe959fb6a51d3e75f54fbe8496'
         '61d163787851d59b8c71e615dfb2ce14'
         'd20006195478503aaaf9535da58fce74'
         '2d6612a49777245074973848dc1f0b41'
         'f8ea71d9650ad03979acc58ded4c2aee'
         '36ca7f9a9c3d88f28b3e86d5cdf78172'
         '776be212db6c2c12d87d7486be0909ab'
         '5a9f3babe0c7b5a5ce8d46760c9742f9'
         '7aecc08c4be5db8437721faeb7f2b844'
         '12c53420836fd193d94d41b0cd1bb548'
         'a8ff346768fc79cc8d0c5ab7469b0235'
         '0428720143fd22f2126e002158da37cf'
         '39c80b9dddf90f4f83f342f8644858e1')
