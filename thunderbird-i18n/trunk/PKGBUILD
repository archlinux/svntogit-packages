# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=17.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sq     "Albanian"'
  'sl     "Slovenian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
#noextract=(${source[@]##*/})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
md5sums=('8cb77bb1018e9c5ffcd47f2946350d8d'
         'e062f1ac8cd95caff3e5b2c436ae5d47'
         '03b9538b500005afbdc3c0bf12bcea61'
         '760c31a93fe3c5d62d60d3bf96a6a792'
         'bfa5a634616289514f2a71e2568cc614'
         'cd27a3ff0274a2fb117f984f292f5e05'
         'a71eab4cf0c7ed1117c96654308edf2b'
         '28f963c83479500b86cb9e4fc0a5d4eb'
         '8357b0d66ab1609ea7e230b4f978d8c8'
         '03973e9aab6c68ade6b5c0dca1c69d1b'
         '4aca9678c1f25945d176225c95641257'
         '9fbd479bd1d9e50961423fa0f8c05365'
         'b334cf93b570c413989cf95ff86636f7'
         '84003acfa56bcc79cb754c403a59ecae'
         '76abfb6a4d2c2e730d2219508eb776a1'
         '2c45ae146f917c21775a0d81ff1d3198'
         'a87796bbde465b65548bb57e046c0f81'
         'ea02361667a52df0630052470dbee642'
         '0c189588e9074acd73d1fd839f122c02'
         '86ce53f06d160ede49e64a5baa338119'
         '3d56ac860edab556a8e9a4cf0fe06a84'
         '90909fe0b3c45794eb3cc11cf7dbe9d1'
         '3f7db3ef8e3e785e507891f4d93432dc'
         '751ee04aaa186ff6dd11d73d46c03bac'
         '132799b4b1cd05229e90dda4ca03422b'
         'ffdd0252eebc03c1aa11976318317c67'
         '69ea8959c0884a8b50035ea8bc6ffe2e'
         'd05e44c86766e571c60dfdf34f03f9b1'
         '5a88027d938b961fecf864e629576d6e'
         'b3c70227128201579aa07a253acc47b9'
         'f608a785c74f389f82b8037801c7f741'
         '0169fc87e3a88c4df4230d1eedf2ba3e'
         '066d19b55d97d1ba49ce5616e4616f7f'
         '89ade26efb41912d95d1d9f969192a2a'
         '804a19e1338bee9654857a068ec59a5d'
         'e0cc15793ab4bcc4ceada720a665d177'
         '091bb6f57e9ec50f012759b348ae1195'
         'b349dccfece955bd7a9ca65b47997a78'
         '033247a1c3b69feb0316bdff6265316c'
         'd0bd603f6fc8bb0ce06c388ea0185e34'
         '4f4c3da3dc625ac00a44d05b259b7336'
         'e5f474657bc67fc42f7e88f798892175'
         '33ed750b4eea22a3f26f1b18490258cf'
         '9cf221d3cc1fe6814e20b4ad4e4788d9'
         '2a541a3950e189cfdaefda6679a0e7a2'
         'bad744e2cd2ad082ae8efff875ae99bd'
         '5c97585dce3c8509dad923563a46e5bb'
         '76847c2e8ece0e2e46d6e5013be24f32'
         '6bb75e7abaa416ff31bc48250d276d99'
         '009da36d87240c58b1df75accd884b33'
         '486c3d49f39d75d1d5eebf0d78809c59'
         '09117a0c0b06fbfa8eda73f1f810b890'
         '9a001755b6cbac1ccadbb55757acf056'
         'a88ffc8fd334dd0ea1b1bf6e6d8f9b3c'
         '96a0afacc88b08cb5a442520a5632346')
