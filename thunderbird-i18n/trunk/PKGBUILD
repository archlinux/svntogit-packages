# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=45.7.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (BokmÃ¥l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  depends=("thunderbird>=$pkgver")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('3fdf85feb4bca7bb12f927a1436afcff'
         '55054e85d23b9bd1fb0261b1a89351fb'
         '62a8b38ee982d16f016c051913d5469f'
         'caa1e840c2139241a8fb65db3a91e7ff'
         '47d6398d9f8a236bf554ac1bdd6c3150'
         '304c9dc540f467f3032227ccb4c1e40b'
         '9bc7a572f4b1a6de19f4504e2080f2ac'
         'b881f2e0db64cd69ee63c1fd1305f321'
         'af0d6e7f154317e312003b2c8ff946cb'
         '65e9807376c5fd02682c595732717bf6'
         'fac0b59e30af3b068fe383afae6b4b39'
         '526b6c15097448b0e9d3ca345dcbf93b'
         '70ab3570aacf28a16ce553cf3bc31e16'
         '8149c7aa238a492a75d47f69e3577d79'
         '077344c39f9f10cc9981026c8c26f1d3'
         '5d77d893d7e6d17c899e560374b58ec7'
         '7c2703914aaf9f6a2ae66d270af0ec74'
         '4e8e79cdf0ad54d923aa1b15acd4cec6'
         'd2389833946ea992b444b0d5aaa6f62a'
         'bf5f1fe80baf3b853aeca2bf2a93fc7d'
         '26bd37849a523a6824a26203b7544f91'
         'f3579e3e09bed6e47af843cc8d55ad8f'
         'a391b07f0f5edbc52e4324a1680928d9'
         '52131dc5ea296f7b7f8e4d746826d8c2'
         '21035610a015c344e4d4dc2b83ca3979'
         'c1c3ae0e720a5766c660832109484e9f'
         '7f0dcb2147cd1d29f3750bfb51927caf'
         '007b8f03884ad3c317bc8bfdb0168d9a'
         '24dca34e1b953b4d2561cadb8893d38c'
         '6fef8a6cdc12cded4cc2415fd1824daa'
         '8045fe35144d8438c8ac5e0a2db72338'
         'eccf54d9e8a9c63647ea58d2fdc1dc08'
         'ae0178a9b97e184ebcbf0556801a093e'
         'f003155484ac1f23ded5e8c7bbbb60fc'
         '3df0e91003cd2222b6266495ea273985'
         '9e53d51c15d226e73c83f13df64144cf'
         '945e293c73c5656fc148b13f46e6569b'
         '37a60524dbc2c6b9f44c2cc64dcb81e9'
         '75dd75480a6e403632d2fa6faa162df6'
         '3920996418b758665d1cf70fe26950ad'
         'd42ff16b70103847dd878fcf1636adf2'
         '131d7754fb5ba2da21fb9b09659e3007'
         '4f9f2fc987743d25553bffc0233a7cc8'
         '8f3ce5dfacee36ca81f79db38af84a72'
         '5c4fd9b38a3901fe8cff3aadc8cd018f'
         '31493ca5e88f11baac3a1012e2cd977b'
         'd8b40097bd6f7b7029012189413797f9'
         'a0290d62964088918a855c289a842e69'
         'c266289d6139cd1c4b5e1df1d4db09d3'
         'e81b43b891fbcc5c2aa211205dd39f6f'
         '49f6d50166e037d986849367eff61130'
         '7110a2437a55824a8889341198a13cdc'
         '89a16fed84db2543e0abe477b8f6694d'
         '6a1fe06ccc552340edbb961f7e5af4af'
         'cc83f7820bb97ff113984d31e15f9d83'
         '93cb94080f9b410fba510ffacf34e5ac'
         '1dd0cf6063059a81981bb7fd778cfbea'
         '4ced4bb189d8b347948b7864e8825825')
