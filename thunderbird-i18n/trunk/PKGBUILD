# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=45.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (BokmÃ¥l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  depends=("thunderbird>=$pkgver")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('5fed6c9632a6617858b36fc5a49f5add'
         '774689a1aa8eb85bb757c2a5001a4a3e'
         'd9cd5030894c4eb2302083dd42e6283a'
         '047fae16e999b51a9328e725e3cbd413'
         'a9a0c3716318617b5ee830a7e2ce25c7'
         '3ed38d5b317c7fd7eeda371da8004e66'
         'a7618c4604543061c76f6e2126f61610'
         'ece409aa2f415219c7f2d54cee991afb'
         'a94de3c5ad940b1b1d78fa5c8380b15a'
         'fdaa4d218c1877eecdea1df6b223bb9c'
         'edd597c50ca17d1296f2cd6024bd16f6'
         '540a606073c49fda5616a3bdd86530b7'
         '72387c7954b344efcaa5b1a2d45fa82a'
         'a3d7c4777ce67941b039991d6d16793b'
         '074af88bb84af67e85c079543d42aa94'
         'ba9a68402367e9f45cbe103d36cdea22'
         '81122fd626b615be97adf1975916deb5'
         'f04440ed3a67d087476a10cee9e207d5'
         '445cb213da9e98f0526abf50f42592c3'
         'faa9784d65faff2472890c969bcabbfe'
         '3d6d534716861fc0786bb50ed63e863b'
         '411e0dc2559dec749bd2a45d6440c2ed'
         '5401d47bfe4d56d23bfac4cff96175c1'
         '35b8cb0a60add4165b71c9c98007f890'
         'be1d35e32102097d19c0180bbc6227a9'
         'deaff73095811d8870ad220384467d86'
         '432d13aff5b7787d4fd15ad66a4e5203'
         'a17cb12a93007ca50236621479b307ff'
         '4a09d49ef9fecbe33377847b3671a3c2'
         'af7cc279a4222dae0535a3737b2ff35d'
         'b1387c6f49dc860be3350ad2c483146c'
         'eaaebbe500868fa7ec55ba000ba739bd'
         '1b08dc4e085127271c69b3c63f198eae'
         'e5448432907f74e4de35aa66de906513'
         '2bcaaf2d5256631d097d44e5c45723cb'
         'c938f12e96af36453533e59528c2afe2'
         '925afbfb123522a3f9e1bf5f8cd7751a'
         'efd7705ee151ba6281cf2104374f0143'
         'f7dd6d979b7374c71e34e8cfa7910e19'
         'f1bb8d08a8dddc626393f305271a80ad'
         'cafc2bfbfd5ffb0495a2431be7a357a6'
         '25408d060006cf68c0c97a69c96e949a'
         'fad223af590b942d3d2cace91417d7c9'
         'e2b6273e832da16ecb6bae4a706fc24e'
         'b98ddae204dfbf881687f536e2ec23dc'
         'c4b944f1a2e21a029e14a3f97d647d1c'
         '4d2b97e7488099381edb0c94c29712f1'
         '5b1ddbba86a76b15c5287a5ea092bf84'
         'c5931f9e181c6a73628e99e0a2de8b1f'
         '60da3ef0ff3545a17e80e013d8e7ef47'
         '7eada70daadc989c0f7ecca787aa4373'
         '5d4882736c95df59cec3680bbe9f13b1'
         'f39c829e8a5be97dd64afbb225d74510'
         '163918b24162f41fc7da3d17107ff015'
         '5dd5b783b51dfab5cbe7a4e4a83d180d'
         '6ee7fb1f65b98613d26053a6855998ac'
         '760891f4be2ae7d03286a82a1a87ad52'
         '354683d1039c6bf5034ad14155d4fb4c')
