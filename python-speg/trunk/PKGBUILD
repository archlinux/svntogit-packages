# Maintainer: RÃ©my Oudompheng <remy@archlinux.org>

pkgbase=python-speg
pkgname=('python-speg' 'python2-speg')
pkgver=0.3
pkgrel=1
pkgdesc="A PEG-based parser interpreter with memoization"
arch=('any')
url="https://github.com/avakar/pyspeg"
license=('MIT')
makedepends=('python-setuptools'
             'python2-setuptools')
source=(https://pypi.io/packages/source/s/speg/speg-$pkgver.zip
        LICENSE)
sha256sums=('10cbef47e168dfc62f14db575cf1c428037a2b881cee6c3cfceda0439c243e71'
            '37d897f62a4324d8d2f313d7d1b98cd26f872d2ae598b7eb9a69b1c129bcc135')

package_python2-speg() {
  depends=('python2' 'python2-six')

  cd "$srcdir"/speg-${pkgver}
  python2 setup.py install --root="${pkgdir}"
  install -D -m644 "$srcdir"/LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}

package_python-speg() {
  depends=('python' 'python-six')

  cd "$srcdir"/speg-${pkgver}
  python setup.py install --root="${pkgdir}"
  install -D -m644 "$srcdir"/LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
